<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{fragments/layout :: head('Gi·ªè H√†ng')}"></th:block>
    <link rel="stylesheet" th:href="@{/css/giohang.css}">
</head>
<body>
    <!-- Header -->
    <th:block th:replace="~{fragments/layout :: header}"></th:block>

    <!-- Breadcrumb -->
    <th:block th:replace="~{fragments/layout :: breadcrumb(${[{name:'Gi·ªè H√†ng'}]})}"></th:block>

    <!-- Cart Section -->
    <section class="cart-section">
        <div class="container">
            <div class="cart-header">
                <h1>üõí Gi·ªè H√†ng C·ªßa B·∫°n</h1>
                <div class="cart-progress">
                    <div class="progress-step active">
                        <div class="step-icon">1</div>
                        <span>Gi·ªè H√†ng</span>
                    </div>
                    <div class="progress-line"></div>
                    <div class="progress-step">
                        <div class="step-icon">2</div>
                        <span>Thanh To√°n</span>
                    </div>
                    <div class="progress-line"></div>
                    <div class="progress-step">
                        <div class="step-icon">3</div>
                        <span>Ho√†n T·∫•t</span>
                    </div>
                </div>
            </div>

            <div class="cart-content">
                <!-- Cart Items -->
                <div class="cart-items">
                    <div class="cart-table">
                        <div class="table-header">
                            <div class="header-item product-col">S·∫£n Ph·∫©m</div>
                            <div class="header-item price-col">ƒê∆°n Gi√°</div>
                            <div class="header-item quantity-col">S·ªë L∆∞·ª£ng</div>
                            <div class="header-item total-col">Th√†nh Ti·ªÅn</div>
                            <div class="header-item action-col">Thao T√°c</div>
                        </div>

                        <!-- Cart Items -->
                        <div class="cart-item" id="item-1">
                            <div class="item-product">
                                <div class="product-image">
                                    <img src="https://picsum.photos/100/100?random=1" alt="Gi·ªè qu√† T·∫øt An Khang">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-name">Gi·ªè Qu√† T·∫øt An Khang</h3>
                                    <p class="product-category">Gi·ªè Qu√† T·∫øt</p>
                                    <div class="product-attributes">
                                        <span class="attribute">K√≠ch th∆∞·ªõc: L·ªõn</span>
                                        <span class="attribute">M√†u s·∫Øc: ƒê·ªè v√†ng</span>
                                    </div>
                                </div>
                            </div>
                            <div class="item-price">
                                <span class="current-price">400.000ƒë</span>
                                <span class="original-price">500.000ƒë</span>
                            </div>
                            <div class="item-quantity">
                                <div class="quantity-controls">
                                    <button class="quantity-btn minus" onclick="updateQuantity(1, -1)">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" class="quantity-input" value="2" min="1" max="99">
                                    <button class="quantity-btn plus" onclick="updateQuantity(1, 1)">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="item-total">
                                <span class="total-price">800.000ƒë</span>
                            </div>
                            <div class="item-action">
                                <button class="action-btn save-later" title="L∆∞u ƒë·ªÉ mua sau">
                                    <i class="fas fa-heart"></i>
                                </button>
                                <button class="action-btn remove-item" title="X√≥a s·∫£n ph·∫©m" onclick="removeItem(1)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Cart Item 2 -->
                        <div class="cart-item" id="item-2">
                            <div class="item-product">
                                <div class="product-image">
                                    <img src="https://picsum.photos/100/100?random=2" alt="H·ªôp qu√† T·∫øt Ph√°t T√†i">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-name">H·ªôp Qu√† T·∫øt Ph√°t T√†i</h3>
                                    <p class="product-category">H·ªôp Qu√† T·∫øt</p>
                                    <div class="product-attributes">
                                        <span class="attribute">Lo·∫°i: Cao c·∫•p</span>
                                        <span class="attribute">G√≥i qu√†: Sang tr·ªçng</span>
                                    </div>
                                </div>
                            </div>
                            <div class="item-price">
                                <span class="current-price">1.200.000ƒë</span>
                            </div>
                            <div class="item-quantity">
                                <div class="quantity-controls">
                                    <button class="quantity-btn minus" onclick="updateQuantity(2, -1)">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" class="quantity-input" value="1" min="1" max="99">
                                    <button class="quantity-btn plus" onclick="updateQuantity(2, 1)">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="item-total">
                                <span class="total-price">1.200.000ƒë</span>
                            </div>
                            <div class="item-action">
                                <button class="action-btn save-later" title="L∆∞u ƒë·ªÉ mua sau">
                                    <i class="fas fa-heart"></i>
                                </button>
                                <button class="action-btn remove-item" title="X√≥a s·∫£n ph·∫©m" onclick="removeItem(2)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Cart Item 3 -->
                        <div class="cart-item" id="item-3">
                            <div class="item-product">
                                <div class="product-image">
                                    <img src="https://picsum.photos/100/100?random=3" alt="Bao l√¨ x√¨ v√†ng">
                                </div>
                                <div class="product-info">
                                    <h3 class="product-name">Bao L√¨ X√¨ V√†ng <span th:text="${tetYear}">2025</span> (10 c√°i)</h3>
                                    <p class="product-category">Trang Tr√≠</p>
                                    <div class="product-attributes">
                                        <span class="attribute">M√†u s·∫Øc: V√†ng</span>
                                        <span class="attribute">S·ªë l∆∞·ª£ng: 10 c√°i/g√≥i</span>
                                    </div>
                                </div>
                            </div>
                            <div class="item-price">
                                <span class="current-price">30.000ƒë</span>
                            </div>
                            <div class="item-quantity">
                                <div class="quantity-controls">
                                    <button class="quantity-btn minus" onclick="updateQuantity(3, -1)">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" class="quantity-input" value="3" min="1" max="99">
                                    <button class="quantity-btn plus" onclick="updateQuantity(3, 1)">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="item-total">
                                <span class="total-price">90.000ƒë</span>
                            </div>
                            <div class="item-action">
                                <button class="action-btn save-later" title="L∆∞u ƒë·ªÉ mua sau">
                                    <i class="fas fa-heart"></i>
                                </button>
                                <button class="action-btn remove-item" title="X√≥a s·∫£n ph·∫©m" onclick="removeItem(3)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Cart Actions -->
                    <div class="cart-actions">
                        <div class="left-actions">
                            <button class="btn btn-outline" onclick="selectAll()">
                                <i class="fas fa-check-square"></i>
                                Ch·ªçn T·∫•t C·∫£
                            </button>
                            <button class="btn btn-outline" onclick="clearCart()">
                                <i class="fas fa-trash"></i>
                                X√≥a Gi·ªè H√†ng
                            </button>
                        </div>
                        <div class="right-actions">
                            <a href="/sanpham" class="btn btn-secondary">
                                <i class="fas fa-arrow-left"></i>
                                Ti·∫øp T·ª•c Mua S·∫Øm
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Cart Summary -->
                <div class="cart-summary">
                    <div class="summary-card">
                        <h3 class="summary-title">T√≥m T·∫Øt ƒê∆°n H√†ng</h3>

                        <div class="summary-row">
                            <span>T·∫°m t√≠nh (6 s·∫£n ph·∫©m):</span>
                            <span>2.090.000ƒë</span>
                        </div>

                        <div class="summary-row">
                            <span>Gi·∫£m gi√°:</span>
                            <span class="discount">-100.000ƒë</span>
                        </div>

                        <div class="summary-row">
                            <span>Ph√≠ v·∫≠n chuy·ªÉn:</span>
                            <span class="shipping-fee">
                                <span class="original-fee">30.000ƒë</span>
                                <span class="free-shipping">MI·ªÑN PH√ç</span>
                            </span>
                        </div>

                        <div class="summary-divider"></div>

                        <div class="summary-row total-row">
                            <span>T·ªïng c·ªông:</span>
                            <span class="total-amount">1.990.000ƒë</span>
                        </div>

                        <!-- Voucher -->
                        <div class="voucher-section">
                            <h4>M√£ Gi·∫£m Gi√°</h4>
                            <div class="voucher-input">
                                <input type="text" placeholder="Nh·∫≠p m√£ gi·∫£m gi√°..." class="voucher-code">
                                <button class="voucher-apply-btn">√Åp D·ª•ng</button>
                            </div>
                            <div class="available-vouchers">
                                <div class="voucher-item">
                                    <div class="voucher-info">
                                        <!-- TODO (Ng∆∞·ªùi 3): Voucher code n√™n dynamic theo nƒÉm n·∫øu mu·ªën ƒë·ªïi m·ªói m√πa T·∫øt -->
                                        <span class="voucher-code-text">NEWYEAR<span th:text="${tetYear}">2025</span></span>
                                        <span class="voucher-desc">Gi·∫£m 10% ƒë∆°n h√†ng t·ª´ 1 tri·ªáu</span>
                                    </div>
                                    <button class="voucher-select">Ch·ªçn</button>
                                </div>
                                <div class="voucher-item">
                                    <div class="voucher-info">
                                        <span class="voucher-code-text">FREESHIP</span>
                                        <span class="voucher-desc">Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn</span>
                                    </div>
                                    <button class="voucher-select">Ch·ªçn</button>
                                </div>
                            </div>
                        </div>

                        <!-- Checkout Button -->
                        <button class="checkout-btn">
                            <i class="fas fa-credit-card"></i>
                            Ti·∫øn H√†nh Thanh To√°n
                        </button>

                        <!-- Security Info -->
                        <div class="security-info">
                            <div class="security-item">
                                <i class="fas fa-shield-alt"></i>
                                <span>B·∫£o m·∫≠t thanh to√°n 100%</span>
                            </div>
                            <div class="security-item">
                                <i class="fas fa-undo"></i>
                                <span>ƒê·ªïi tr·∫£ trong 7 ng√†y</span>
                            </div>
                            <div class="security-item">
                                <i class="fas fa-shipping-fast"></i>
                                <span>Giao h√†ng nhanh 24h</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recommendations -->
            <div class="recommendations">
                <h2 class="section-title">C√≥ Th·ªÉ B·∫°n Quan T√¢m</h2>
                <div class="recommendations-grid">
                    <div class="recommendation-item">
                        <div class="rec-image">
                            <img src="https://picsum.photos/200/200?random=5" alt="S·∫£n ph·∫©m g·ª£i √Ω">
                        </div>
                        <div class="rec-info">
                            <h4>M·ª©t D·ª´a Non 500g</h4>
                            <div class="rec-price">150.000ƒë</div>
                            <button class="rec-add-btn">
                                <i class="fas fa-plus"></i>
                                Th√™m V√†o Gi·ªè
                            </button>
                        </div>
                    </div>

                    <div class="recommendation-item">
                        <div class="rec-image">
                            <img src="https://picsum.photos/200/200?random=6" alt="S·∫£n ph·∫©m g·ª£i √Ω">
                        </div>
                        <div class="rec-info">
                            <h4>B√°nh Ch∆∞ng G√≥i L√° Chu·ªëi</h4>
                            <div class="rec-price">200.000ƒë</div>
                            <button class="rec-add-btn">
                                <i class="fas fa-plus"></i>
                                Th√™m V√†o Gi·ªè
                            </button>
                        </div>
                    </div>

                    <div class="recommendation-item">
                        <div class="rec-image">
                            <img src="https://picsum.photos/200/200?random=7" alt="S·∫£n ph·∫©m g·ª£i √Ω">
                        </div>
                        <div class="rec-info">
                            <h4>Ch√πm Nho T√†i L·ªôc</h4>
                            <div class="rec-price">80.000ƒë</div>
                            <button class="rec-add-btn">
                                <i class="fas fa-plus"></i>
                                Th√™m V√†o Gi·ªè
                            </button>
                        </div>
                    </div>

                    <div class="recommendation-item">
                        <div class="rec-image">
                            <img src="https://picsum.photos/200/200?random=8" alt="S·∫£n ph·∫©m g·ª£i √Ω">
                        </div>
                        <div class="rec-info">
                            <h4>Hoa Mai V√†ng Trang Tr√≠</h4>
                            <div class="rec-price">120.000ƒë</div>
                            <button class="rec-add-btn">
                                <i class="fas fa-plus"></i>
                                Th√™m V√†o Gi·ªè
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <th:block th:replace="~{fragments/layout :: footer}"></th:block>

    <!-- Scripts -->
    <th:block th:replace="~{fragments/layout :: scripts}"></th:block>
    <script>
        function updateQuantity(itemId, change) {
            const input = document.querySelector(`#item-${itemId} .quantity-input`);
            let currentValue = parseInt(input.value);
            let newValue = currentValue + change;

            if (newValue >= 1 && newValue <= 99) {
                input.value = newValue;
                updateItemTotal(itemId);
                updateCartTotal();
            }
        }

        function updateItemTotal(itemId) {
            console.log('Update item total for item:', itemId);
        }

        function updateCartTotal() {
            console.log('Update cart total');
        }

        function removeItem(itemId) {
            if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a s·∫£n ph·∫©m n√†y kh·ªèi gi·ªè h√†ng?')) {
                const item = document.querySelector(`#item-${itemId}`);
                if (item) {
                    item.remove();
                    updateCartTotal();
                }
            }
        }

        function selectAll() {
            console.log('Select all items');
        }

        function clearCart() {
            if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a t·∫•t c·∫£ s·∫£n ph·∫©m trong gi·ªè h√†ng?')) {
                console.log('Clear cart');
            }
        }
    </script>
</body>
</html>
